{% extends 'base.html' %}

{% block title %}Search Hotels{% endblock %}

{% block content %}
<div class="container">
    <h2>Search Hotels</h2>

    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="location">Location:</label>
            <input type="text" id="location" name="location" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="check_in">Check-in Date:</label>
            <input type="date" id="check_in" name="check_in" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="check_out">Check-out Date:</label>
            <input type="date" id="check_out" name="check_out" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="num_members">Number of Members:</label>
            <input type="number" id="num_members" name="num_members" class="form-control" min="1" required>
        </div>
        <button type="submit" class="btn btn-primary">Search Hotels</button>
    </form>

    <script>
        // Set today's date as the minimum for the check-in and check-out date fields
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('check_in').setAttribute('min', today);
            document.getElementById('check_out').setAttribute('min', today);
        });
    </script>
</div>
{% endblock %}
